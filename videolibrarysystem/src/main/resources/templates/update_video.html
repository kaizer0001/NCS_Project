<html>
<head>
<title>Video Library System</title>

<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script type="text/javascript">
	$(document).ready(
		function() {

			// SUBMIT FORM
			$("#videoForm").submit(function(event) {
				// Prevent the form from submitting via the browser.
				event.preventDefault();
				ajaxPost();
			});

			function ajaxPost() {
				// PREPARE FORM DATA
				var formData = {
					id : $("#id").val(),
					title : $("#title").val(),
					link : $("#link").val(),
					description : $("#description").val(),
					tag : $("#tag").val(),
					createdDate : $("#createdDate").val(),
					updatedDate : $("#updatedDate").val()
				}

				// DO POST
				$.ajax({
					type : "PUT",
					contentType : "application/json",
					url : "/updateVideo",
					data : JSON.stringify(formData)
				});
			}
		})
	</script>
</head>
<body>
	<div class="container">
		<h1>Video Library System</h1>
		<hr>
		<h2>Update Video</h2>
		
    	<div id="postResultDiv"></div>

		<form id="videoForm" autocomplete="on">
			<input type="hidden" id="id" name="id" th:value="${video.id}" />
			
			<input type="text" id="title" name="title" th:value="${video.title}" required
			placeholder="Video Title" class="form-control mb-4 col-7">
				
			<input type="text" id="link" name="link" th:value="${video.link}" required
			placeholder="Video Link" class="form-control mb-4 col-5">
				
			<input type="text" id="description" name="description" th:value="${video.description}" required
			placeholder="Video Description" class="form-control mb-4 col-10">
			
			<input type="text" id="tag" name="tag" th:value="${video.tag}" required
			placeholder="Video Tag" class="form-control mb-4 col-6">
				
			<input type="text" id="createdDate" name="createdDate" th:value="${video.createdDate}" required
			placeholder="Video Created Date" class="form-control mb-4 col-3">
				
			<input type="text" id="updatedDate" name="updatedDate" th:value="${video.updatedDate}" required
			placeholder="Video Updated Date" class="form-control mb-4 col-3">
				
			<button type="submit" class="btn btn-info col-2">Update Video</button>
		</form>
		<hr>
		<a th:href = "@{/index.html}">Back to Video List</a>
	</div>
</body>
</html>